{
  "module": "Battleground_Objectives",
  "version": "3.3.5a",
  "description": "Per-BG weighted objective model with dynamic priority updates & state-driven overrides.",
  "update_frequency_ms": 1500,
  "game_state": {
    "early_game": {
      "duration": 180,
      "focus": "establish presence, contest objectives",
      "priority": ["vision control", "early positioning", "safe objective control"]
    },
    "mid_game": {
      "duration": 360,
      "focus": "control key objectives, engage in team fights",
      "priority": ["flag control", "base control", "team fight wins"]
    },
    "late_game": {
      "duration": 180,
      "focus": "secure win condition, defend lead",
      "priority": ["win condition", "defend advantage", "close out game"]
    }
  },
  "weights_base": {
    "IOC": {
      "workshop": {
        "base_weight": 100,
        "priority": "critical",
        "conditions": ["not_controlled_by_team"],
        "context_weights": {
          "early_game": 1.2,
          "mid_game": 1.0,
          "late_game": 0.8
        }
      },
      "docks": {
        "base_weight": 80,
        "priority": "high",
        "conditions": ["workshop_controlled", "glaive_availability"],
        "context_weights": {
          "early_game": 0.8,
          "mid_game": 1.0,
          "late_game": 1.2
        }
      },
      "hangar": {
        "base_weight": 50,
        "priority": "medium",
        "conditions": ["workshop_lost", "docks_lost", "air_assault_opportunity"],
        "context_weights": {
          "early_game": 0.5,
          "mid_game": 0.8,
          "late_game": 1.5
        }
      },
      "refinery": {
        "base_weight": 10,
        "priority": "low",
        "conditions": ["no_major_objective_available"],
        "context_weights": {
          "early_game": 0.3,
          "mid_game": 0.5,
          "late_game": 0.8
        }
      },
      "quarry": {
        "base_weight": 10,
        "priority": "low",
        "conditions": ["no_major_objective_available"],
        "context_weights": {
          "early_game": 0.3,
          "mid_game": 0.5,
          "late_game": 0.8
        }
      },
      "gate": {
        "base_weight": 90,
        "priority": "critical",
        "conditions": ["siege_available", "workshop_controlled"],
        "context_weights": {
          "early_game": 0.5,
          "mid_game": 1.0,
          "late_game": 2.0
        }
      },
      "tower": {
        "base_weight": 120,
        "priority": "critical",
        "conditions": ["gate_not_breached", "siege_available"],
        "context_weights": {
          "early_game": 1.0,
          "mid_game": 1.2,
          "late_game": 0.8
        }
      }
    },
    "WSG": {
      "flag_capture": {
        "base_weight": 100,
        "priority": "critical",
        "conditions": ["flag_available", "safe_capture_route"],
        "context_weights": {
          "early_game": 1.0,
          "mid_game": 1.0,
          "late_game": 1.0
        }
      },
      "defense_flagroom": {
        "base_weight": 90,
        "priority": "critical",
        "conditions": ["enemy_approaching_flag", "flag_secure"],
        "context_weights": {
          "early_game": 1.0,
          "mid_game": 1.0,
          "late_game": 1.0
        }
      },
      "mid_control": {
        "base_weight": 60,
        "priority": "medium",
        "conditions": ["flag_control", "safe_passage"],
        "context_weights": {
          "early_game": 0.8,
          "mid_game": 1.0,
          "late_game": 1.2
        }
      }
    },
    "AB": {
      "blacksmith": {
        "base_weight": 100,
        "priority": "critical",
        "conditions": ["not_controlled_by_team", "central_control"],
        "context_weights": {
          "early_game": 1.2,
          "mid_game": 1.0,
          "late_game": 0.8
        }
      },
      "farm": {
        "base_weight": 70,
        "priority": "high",
        "conditions": ["home_base_control", "defensive_positioning"],
        "context_weights": {
          "early_game": 0.8,
          "mid_game": 1.0,
          "late_game": 1.2
        }
      },
      "stables": {
        "base_weight": 70,
        "priority": "high",
        "conditions": ["home_base_control", "defensive_positioning"],
        "context_weights": {
          "early_game": 0.8,
          "mid_game": 1.0,
          "late_game": 1.2
        }
      },
      "mine": {
        "base_weight": 60,
        "priority": "medium",
        "conditions": ["safe_to_capture", "resource_deficit"],
        "context_weights": {
          "early_game": 0.5,
          "mid_game": 0.8,
          "late_game": 1.0
        }
      },
      "lumbermill": {
        "base_weight": 80,
        "priority": "high",
        "conditions": ["not_controlled_by_team", "elevation_advantage"],
        "context_weights": {
          "early_game": 1.0,
          "mid_game": 1.0,
          "late_game": 0.8
        }
      }
    },
    "AV": {
      "tower": {
        "base_weight": 85,
        "priority": "high",
        "conditions": ["not_controlled_by_team", "commander_kill_opportunity"],
        "context_weights": {
          "early_game": 1.0,
          "mid_game": 1.0,
          "late_game": 0.8
        }
      },
      "graveyard": {
        "base_weight": 60,
        "priority": "medium",
        "conditions": ["forward_spawn", "map_control"],
        "context_weights": {
          "early_game": 0.8,
          "mid_game": 1.0,
          "late_game": 1.2
        }
      },
      "commander_kill": {
        "base_weight": 120,
        "priority": "critical",
        "conditions": ["tower_controlled", "reinforcement_drain"],
        "context_weights": {
          "early_game": 1.2,
          "mid_game": 1.0,
          "late_game": 0.8
        }
      },
      "general": {
        "base_weight": 200,
        "priority": "critical",
        "conditions": ["reinforcements_low", "tower_advantage"],
        "context_weights": {
          "early_game": 0.5,
          "mid_game": 0.8,
          "late_game": 2.0
        }
      }
    },
    "EOTS": {
      "mid_control": {
        "base_weight": 100,
        "priority": "critical",
        "conditions": ["flag_control", "safe_flag_access"],
        "context_weights": {
          "early_game": 1.0,
          "mid_game": 1.0,
          "late_game": 1.0
        }
      },
      "flag_capture": {
        "base_weight": 120,
        "priority": "critical",
        "conditions": ["mid_controlled", "safe_capture"],
        "context_weights": {
          "early_game": 0.8,
          "mid_game": 1.0,
          "late_game": 1.2
        }
      }
    },
    "SOTA": {
      "demolisher_protection": {
        "base_weight": 130,
        "priority": "critical",
        "conditions": ["demolisher_available", "vehicle_protection_needed"],
        "context_weights": {
          "early_game": 1.2,
          "mid_game": 1.0,
          "late_game": 0.8
        }
      },
      "wall_breach": {
        "base_weight": 160,
        "priority": "critical",
        "conditions": ["demolisher_controlled", "gate_access"],
        "context_weights": {
          "early_game": 0.5,
          "mid_game": 1.0,
          "late_game": 2.0
        }
      }
    }
  },
  "dynamic_rules": [
    "if objective_under_attack -> increase_weight_by 40 for defending_team",
    "if enemy_gate_hp_lt_percent <= 20 -> increase_weight(gate) to 200 and push_all_to_gate",
    "if team_controls(workshop) and siege_built >= 2 -> prioritize_gate_push",
    "if flag_carrier_in_danger -> set_objective_priority(escort_flag, 300)",
    "if team_losing_reinforcements -> increase_defensive_objective_weights",
    "if team_winning_reinforcements -> increase_aggressive_objective_weights",
    "if team_size_advantage -> increase_aggressive_objective_weights",
    "if team_size_disadvantage -> increase_defensive_objective_weights"
  ],
  "state_driven_overrides": {
    "low_reinforcements": {
      "trigger": "own_reinforcements < 80",
      "override": [
        "defend_primary_keep",
        "deny_enemy_objectives",
        "avoid_unnecessary_fights",
        "focus_on_defensive_positions"
      ]
    },
    "comeback": {
      "trigger": "enemy_controls_majority and own_reinforcements < enemy_reinforcements - 100",
      "override": [
        "attempt_tower_destruction",
        "focus_glaives_if_available",
        "aggressive_push_strategies",
        "risk_taking_behavior"
      ]
    },
    "winning": {
      "trigger": "team_has_significant_advantage",
      "override": [
        "defensive_positioning",
        "avoid_risky_engagements",
        "maintain_advantage",
        "slow_down_game_clock"
      ]
    },
    "time_critical": {
      "trigger": "time_remaining < 300",
      "override": [
        "all_in_for_win_condition",
        "aggressive_push_behavior",
        "ignore_minor_objectives",
        "focus_on_primary_win_condition"
      ]
    }
  },
  "adaptive_behavior": {
    "team_size": {
      "1": ["avoid_fights", "objective_control", "defensive_positioning"],
      "2-3": ["engage_favorable_fights", "objective_support", "coordinated_pushes"],
      "4+": ["aggressive_objective_control", "team_fights", "win_conditions"]
    },
    "enemy_composition": {
      "high_healer_count": ["prioritize_healer_hunting", "interrupt_healing", "apply_pressure"],
      "melee_heavy": ["use_defensive_positioning", "maintain_distance", "kite_effectively"],
      "ranged_heavy": ["use_cover", "control_area", "focus_fire"]
    },
    "game_state": {
      "behind": ["defensive_positioning", "protect_objectives", "wait_for_mistakes"],
      "ahead": ["aggressive_pushing", "maintain_pressure", "secure_win"],
      "close": ["maximize_fights", "win_exchanges", "control_objectives"]
    }
  },
  "tactical_positioning": {
    "key_locations": {
      "WSG_flag_room": {
        "defensive_positions": ["flag_stand", "entrance", "behind_cover"],
        "offensive_positions": ["approach", "escape_routes", "control_points"]
      },
      "AB_base_circles": {
        "defensive_positions": ["inside_circle", "approach_angles", "escape_routes"],
        "offensive_positions": ["approach", "flank_routes", "control_points"]
      },
      "AV_tower_approaches": {
        "defensive_positions": ["tower_base", "approach_control", "escape_routes"],
        "offensive_positions": ["approach_angles", "flank_routes", "control_points"]
      }
    }
  },
  "resource_management": {
    "time_awareness": {
      "early_game": "focus_on_positioning_and_preparation",
      "mid_game": "focus_on_objective_control_and_team_fights",
      "late_game": "focus_on_securing_win_condition"
    },
    "reinforcement_awareness": {
      "high_reinforcements": "aggressive_behavior",
      "medium_reinforcements": "balanced_behavior", 
      "low_reinforcements": "defensive_behavior"
    }
  },
  "cpp_hooks": [
    "ObjectiveManager::RecalculateWeights()",
    "ObjectiveManager::GetNextObjectiveForBot()",
    "ObjectiveManager::UpdateGameState()",
    "ObjectiveManager::ApplyDynamicRules()",
    "ObjectiveManager::CheckStateOverrides()"
  ]
}