{
  "isle_of_conquest_strategy": {
    "metadata": {
      "bg_id": 30,
      "bg_name": "Isle of Conquest",
      "module_target_files": [
        "playerbot/strategy/battleground/BattlegroundICStrategy.cpp",
        "playerbot/strategy/battleground/BattlegroundICStrategy.h",
        "playerbot/PlayerbotAI.cpp",
        "playerbot/PlayerbotMgr.cpp",
        "playerbot/strategy/MovementActions.cpp",
        "playerbot/strategy/CombatStrategy.cpp"
      ],
      "description": "Dynamic strategy rules for bots to correctly choose objectives, vehicles, routes, and combat behaviors in Isle of Conquest."
    },
    "game_state": {
      "phase_thresholds": {
        "early_game": 0,
        "mid_game": 300,
        "late_game": 600,
        "end_game": 900
      },
      "gate_hp_thresholds": {
        "intact": 100,
        "damaged": 50,
        "breached": 0
      }
    },
    "global_logic": {
      "behavior_mode": "dynamic_objective_evaluation",
      "update_frequency_ms": 1500,
      "priority_system": "weighted_objectives_with_context",
      "distance_check": true,
      "allow_vehicle_usage": true,
      "allow_zone_switching": true,
      "vehicle_priority": "siege_engines > glaive_throwers > demolishers > catapults"
    },
    "objectives": {
      "workshop": {
        "id": "WS",
        "priority_weight": 100,
        "context_weights": {
          "early_game": 100,
          "mid_game": 80,
          "late_game": 60
        },
        "conditions": [
          "team_does_not_control(workshop)",
          "siege_engines < 2",
          "enemy_pushing_gate = true",
          "time_remaining > 300"
        ],
        "activation_requirements": ["2+ bots available", "safe_path_to_workshop"],
        "bot_actions": [
          "move_to(workshop)",
          "capture(workshop)",
          "defend(workshop, minimum_players=3)",
          "build_siege_engines_if_possible",
          "escort_engineers_to_workshop",
          "collect_seaforium_bombs_from_workshop",
          "place_bombs_on_enemy_gates"
        ],
        "cpp_hooks": [
          "IsleOfConquestObjectiveCheck()",
          "MoveToBGObjective(workshop)",
          "CommandSiegeVehicle()",
          "EscortAction(workshop)",
          "CollectBombAction()",
          "PlaceBombAction()"
        ],
        "fallback_strategy": [
          "if_workshop_contested: move_to(docks)",
          "if_workshop_lost: defend(gate_area)"
        ]
      },
      "docks": {
        "id": "DOCS",
        "priority_weight": 75,
        "context_weights": {
          "early_game": 60,
          "mid_game": 85,
          "late_game": 90
        },
        "conditions": [
          "team_controls(workshop) = true",
          "need_glaives_for_tower_push",
          "enemy_has_glaives = true",
          "gate_not_breached"
        ],
        "activation_requirements": ["workshop_secure", "2+ bots available"],
        "bot_actions": [
          "capture(docks)",
          "escort_spawned_glaives",
          "protect_glaives_from_melee_attackers",
          "use_glaives_for_tower_destruction"
        ],
        "cpp_hooks": [
          "MoveToBGObjective(docks)",
          "ProtectVehicleAction(glaive)",
          "VehicleCombatStrategy(glaive)"
        ],
        "fallback_strategy": [
          "if_docks_contested: retreat_to(workshop)",
          "if_gate_breached: move_to(hangar)"
        ]
      },
      "hangar": {
        "id": "HANGAR",
        "priority_weight": 60,
        "context_weights": {
          "early_game": 30,
          "mid_game": 50,
          "late_game": 90
        },
        "conditions": [
          "workshop_lost AND docks_lost",
          "direct_roof_access_needed",
          "gate_breached = true",
          "time_remaining < 400"
        ],
        "activation_requirements": ["airship_available", "3+ bots for air assault"],
        "bot_actions": [
          "capture(hangar)",
          "use_airship()",
          "parachute_into_enemy_keep()",
          "coordinate_air_assault"
        ],
        "cpp_hooks": [
          "UseTransportAction(airship)",
          "ParachuteLandingAction()",
          "AirAssaultStrategy()"
        ],
        "fallback_strategy": [
          "if_hangar_contested: retreat_to(workshop)",
          "if_airship_destroyed: move_to(keep_ground)"
        ]
      },
      "refinery": {
        "id": "REF",
        "priority_weight": 25,
        "context_weights": {
          "early_game": 15,
          "mid_game": 20,
          "late_game": 30
        },
        "conditions": [
          "team_does_not_control_refinery",
          "or siege_weapon_bonus_needed",
          "or reinforcement_income_deficit",
          "or time_remaining > 180"
        ],
        "activation_requirements": ["safe_to_capture", "not_critical_phase", "refinery_not_contested"],
        "bot_actions": [
          "move_to(refinery)",
          "capture(refinery)",
          "defend(refinery, minimum_players=2)",
          "maintain_refinery_control",
          "benefit_from_siege_weapon_bonus"
        ],
        "cpp_hooks": [
          "IsleOfConquestObjectiveCheck()",
          "MoveToBGObjective(refinery)",
          "DefendObjectiveAction(refinery)",
          "CaptureObjectiveAction(refinery)"
        ],
        "fallback_strategy": [
          "if_refinery_contested: move_to(workshop)",
          "if_major_objective_becomes_available: abandon_refinery"
        ]
      },
      "quarry": {
        "id": "QUARRY",
        "priority_weight": 25,
        "context_weights": {
          "early_game": 15,
          "mid_game": 20,
          "late_game": 30
        },
        "conditions": [
          "team_does_not_control_quarry",
          "or siege_weapon_bonus_needed",
          "or reinforcement_income_deficit",
          "or time_remaining > 180"
        ],
        "activation_requirements": ["safe_to_capture", "not_critical_phase", "quarry_not_contested"],
        "bot_actions": [
          "move_to(quarry)",
          "capture(quarry)",
          "defend(quarry, minimum_players=2)",
          "maintain_quarry_control",
          "benefit_from_siege_weapon_bonus"
        ],
        "cpp_hooks": [
          "IsleOfConquestObjectiveCheck()",
          "MoveToBGObjective(quarry)",
          "DefendObjectiveAction(quarry)",
          "CaptureObjectiveAction(quarry)"
        ],
        "fallback_strategy": [
          "if_quarry_contested: move_to(workshop)",
          "if_major_objective_becomes_available: abandon_quarry"
        ]
      },
      "keep_tower_guns": {
        "id": "KTG",
        "priority_weight": 40,
        "context_weights": {
          "early_game": 10,
          "mid_game": 30,
          "late_game": 50
        },
        "conditions": [
          "enemy_inside_keep",
          "or enemy_siege_engines_approaching",
          "or need_to_control_keep_towers",
          "or defensive_positioning_necessary"
        ],
        "activation_requirements": ["inside_keep", "tower_gun_available", "safe_to_operate"],
        "bot_actions": [
          "man_tower_gun",
          "attack_enemy_siege_engines",
          "damage_enemy_players",
          "repair_tower_gun_if_destroyed",
          "maintain_tower_gun_control"
        ],
        "cpp_hooks": [
          "OperateKeepGunAction()",
          "AttackEnemySiegeWithGun()",
          "RepairKeepGunAction()",
          "TowerGunCombatStrategy()"
        ],
        "fallback_strategy": [
          "if_tower_gun_destroyed: move_to_defensive_position",
          "if_enemy_overwhelming: abandon_tower_gun"
        ]
      }
    },
    "vehicle_logic": {
      "seaforium_bombs": {
        "role": "gate_destruction_with_bombs",
        "priority": 95,
        "carrier_requirements": ["Mobile specs", "High survivability", "Stealth capability"],
        "conditions": [
          "workshop_controlled",
          "gate_not_breached",
          "safe_bomb_placement_opportunity",
          "enemy_gate_vulnerable"
        ],
        "carrier_actions": [
          "collect_bomb_from_workshop",
          "approach_gate_stealthily",
          "place_bomb_at_gate(10_seconds_channel)",
          "defend_bomb_placement_until_detonation",
          "escape_after_bomb_placed"
        ],
        "escort_actions": [
          "protect_bomb_carrier",
          "kill_gate_defenders",
          "maintain_vision_control",
          "assist_in_bomb_placement"
        ],
        "combat_behavior": {
          "defensive": ["Protect carrier", "Kill interceptors", "Maintain bomb safety"],
          "offensive": ["Place bomb efficiently", "Maximize gate damage", "Coordinate with vehicles"]
        },
        "cpp_hooks": [
          "BombCarrierAI::SelectRoute()",
          "BombPlacementAction()",
          "ProtectBombCarrierAction()",
          "BombDetonationStrategy()"
        ]
      },
      "huge_seaforium_bombs": {
        "role": "internal_gate_destruction",
        "priority": 85,
        "carrier_requirements": ["Stealth specs", "High mobility", "Escape mechanisms"],
        "conditions": [
          "enemy_inside_keep",
          "gate_not_destroyed",
          "safe_internal_access",
          "bomb_available_from_internal_source"
        ],
        "carrier_actions": [
          "infiltrate_enemy_keep",
          "collect_huge_bomb_from_internal_source",
          "place_bomb_at_gate_from_inside",
          "defend_bomb_placement_until_detonation",
          "escape_after_placement"
        ],
        "escort_actions": [
          "escort_carrier_inside",
          "kill_internal_defenders",
          "maintain_internal_vision",
          "assist_in_escape"
        ],
        "combat_behavior": {
          "defensive": ["Protect carrier inside", "Kill internal attackers", "Maintain escape route"],
          "offensive": ["Place bomb from inside", "Maximize internal damage", "Coordinate with external assault"]
        },
        "cpp_hooks": [
          "InternalBombCarrierAI::Infiltrate()",
          "HugeBombPlacementAction()",
          "InternalAssaultStrategy()",
          "EscapeRouteManagement()"
        ]
      },
      "siege_engine": {
        "role": "primary_gate_destruction",
        "priority": 100,
        "driver_requirements": ["Tank specs", "High survivability", "Vehicle experience"],
        "conditions": [
          "bot_is_driver",
          "gate_not_breached",
          "steam_blast_required",
          "workshop_controlled"
        ],
        "driver_actions": [
          "move_to(enemy_gate)",
          "ram_gate()",
          "avoid_players_when_below_40_percent_hp",
          "maintain_formation_with_support"
        ],
        "passenger_actions": [
          "use_steam_blast_on_melee()",
          "protect_driver_from_interrupts",
          "focus_fire_on_gate_defenders"
        ],
        "combat_behavior": {
          "defensive": ["Retreat if surrounded", "Call for escort", "Use defensive cooldowns"],
          "offensive": ["Focus on gate", "Ignore other targets", "Maintain movement"]
        },
        "cpp_hooks": [
          "VehicleAI::DoAction()",
          "PlayerbotAI::CastVehicleSpell()",
          "SiegeEngineCombatStrategy()"
        ]
      },
      "glaive_thrower": {
        "role": "tower_destruction_and_support",
        "priority": 85,
        "driver_requirements": ["Ranged specs", "High DPS", "Aimed shot capability"],
        "conditions": [
          "bot_is_driver",
          "tower_hp > 0",
          "safe_distance_from_enemy",
          "docks_controlled"
        ],
        "driver_actions": [
          "keep_max_range_from_target",
          "focus_fire(target=tower)",
          "retreat_if_attacked_by_melee",
          "support_siege_engines"
        ],
        "combat_behavior": {
          "defensive": ["Maintain range", "Kite melee attackers", "Call for protection"],
          "offensive": ["Focus tower HP", "Support allies", "Deny enemy vehicles"]
        },
        "cpp_hooks": [
          "PlayerbotAI::SelectGlaiveTarget()",
          "CalculateSafeDistance()",
          "GlaiveCombatStrategy()"
        ]
      },
      "demolisher": {
        "role": "secondary_destruction_and_support",
        "priority": 70,
        "driver_requirements": ["Any class", "Mobile", "Survivable"],
        "passenger_requirements": ["Ranged specs", "High DPS", "Survivable"],
        "conditions": [
          "bot_is_driver",
          "gate_not_breached",
          "siege_engines_unavailable",
          "workshop_controlled"
        ],
        "driver_actions": [
          "support_siege_engines",
          "attack_gate_if_safe",
          "provide_area_damage",
          "maintain_vehicle_positioning",
          "protect_passengers"
        ],
        "passenger_actions": [
          "attack_from_vehicle_safety",
          "support_driver_with_damage",
          "protect_vehicle_from_melee",
          "maintain_damage_output"
        ],
        "combat_behavior": {
          "driver": ["tank_damage", "maintain_position", "protect_passengers", "navigate_terrain"],
          "passenger": ["maximize_damage", "avoid_interrupts", "support_vehicle", "maintain_positioning"]
        },
        "cpp_hooks": [
          "DemolisherCombatStrategy()",
          "AreaDamageAction()",
          "VehiclePassengerStrategy()",
          "DemolisherNavigation()"
        ]
      },
      "catapult": {
        "role": "artillery_support_and_infiltration",
        "priority": 60,
        "driver_requirements": ["Ranged specs", "Strategic thinking", "Patience"],
        "conditions": [
          "bot_is_driver",
          "safe_positioning_available",
          "enemy_clusters_visible",
          "defensive_positioning",
          "or_need_to_infiltrate_keep_without_destroying_gates"
        ],
        "driver_actions": [
          "provide_aoe_damage",
          "support_vehicle_assaults",
          "attack_enemy_vehicles",
          "use_stealth_mechanic_to_get_in_position",
          "hurl_driver_to_enemy_keep_for_infiltration"
        ],
        "combat_behavior": {
          "infiltration": ["get_into_position", "use_stealth", "hurl_into_keep", "avoid_gate_destruction"],
          "artillery": ["provide_aoe_damage", "attack_clusters", "support_team"]
        },
        "cpp_hooks": [
          "CatapultCombatStrategy()",
          "ArtilleryTargeting()",
          "CatapultInfiltrationAction()",
          "HurlDriverAction()"
        ]
      }
    },
    "combat_behavior": {
      "priority_system": [
        "kill_enemy_attacking_siege",
        "use_cannons_on_enemy_siege",
        "defend_engineers_repairing_siege",
        "defend_objective_circles",
        "avoid_midfield_fights",
        "escort_vehicles_to_objectives",
        "protect_vehicle_drivers",
        "defend_bomb_carriers",
        "destroy_enemy_bomb_carriers",
        "escort_bomb_carriers_to_gates",
        "protect_bomb_placement",
        "operate_keep_tower_guns",
        "defend_keep_towers",
        "repair_destroyed_keep_towers"
      ],
      "spell_usage_logic": {
        "healers": [
          "if_tank_under_attack_near_gate: heal_priority++",
          "if_friendly_vehicle_driver_low_hp: heal_immediately",
          "if_group_under_attack: heal_area_targets",
          "prioritize_vehicle_crew_health",
          "if_bomb_carrier_under_attack: prioritize_healing",
          "protect_bomb_carrier_with_shields"
        ],
        "ranged_dps": [
          "focus_enemy_siege_engines",
          "focus_enemy_glaives",
          "attack_enemy_vehicle_drivers",
          "provide_covering_fire",
          "interrupt_enemy_bomb_carriers",
          "attack_enemy_bomb_placement"
        ],
        "melee_dps": [
          "intercept_attackers_of_siege",
          "protect_glaives",
          "engage_enemy_melee",
          "clear_gate_defenders",
          "kill_enemy_bomb_carriers",
          "interrupt_enemy_bomb_placement"
        ],
        "tanks": [
          "body_block_enemy_melee_from_siege",
          "taunt_leader_in_keep",
          "protect_vehicle_crew",
          "hold_chokepoints",
          "protect_bomb_carriers",
          "tank_enemy_bomb_carriers"
        ]
      },
      "cpp_hooks": [
        "PlayerbotAI::GetCombatStrategy()",
        "AttackEnemySiegeEngineAction.cpp",
        "ProtectFriendlyVehicleAction.cpp",
        "VehicleEscortStrategy()"
      ]
    },
    "leader_kill_phase": {
      "trigger_conditions": [
        "enemy_gate_destroyed",
        "all_players_inside_keep >= 8",
        "leader_hp_targetable",
        "time_remaining < 120"
      ],
      "activation_requirements": ["tank_available", "healer_available", "dps_available"],
      "bot_actions": [
        "move_to(leader_room)",
        "tank_faces_leader_away",
        "ignore_guards_if_healer_safe",
        "use_bloodlust_at_50_percent",
        "coordinated_damage_rotation"
      ],
      "role_assignments": {
        "tank": ["Hold leader", "Face away from group", "Taunt adds"],
        "healer": ["Keep tank alive", "Dispel mechanics", "Survive adds"],
        "dps": ["Focus leader", "Kill adds priority", "Avoid mechanics"]
      },
      "cpp_hooks": [
        "BossFightStrategy.cpp",
        "PositioningLogicInsideKeep()",
        "LeaderKillStrategy()"
      ]
    },
    "defense_logic": {
      "when_to_defend": [
        "enemy_has_siege_engines",
        "own_gate_hp < 75%",
        "enemy_inside_keep",
        "workshop_will_be_lost",
        "docks_under_attack",
        "time_critical_phase",
        "enemy_bomb_carrier_approaching",
        "enemy_bomb_placed_at_gate",
        "bomb_disarm_attempted"
      ],
      "defensive_positions": [
        "keep_cannons",
        "archer_towers",
        "choke_points_at_gate",
        "workshop_interior",
        "docks_approach",
        "bomb_defusal_points",
        "gate_defense_positions"
      ],
      "defensive_strategies": {
        "gate_defense": {
          "composition": ["2 tanks", "2 healers", "4 dps"],
          "positions": ["Gate front", "Sides", "Above", "Behind"],
          "priorities": ["Destroy vehicles", "Kill drivers", "Protect cannons", "Disarm bombs"]
        },
        "workshop_defense": {
          "composition": ["1 tank", "1 healer", "2 dps"],
          "positions": ["Entrance", "Interior", "Exterior flanks"],
          "priorities": ["Prevent capping", "Kill attackers", "Maintain control", "Protect bomb carriers"]
        },
        "docks_defense": {
          "composition": ["1 tank", "1 healer", "1 dps"],
          "positions": ["Entrance", "Vehicle spawn", "Exterior"],
          "priorities": ["Protect vehicle spawn", "Kill attackers", "Maintain control", "Disarm seaforium"]
        },
        "bomb_defense": {
          "composition": ["1 melee", "1 ranged", "1 healer"],
          "positions": ["Bomb defusal points", "Gate approaches", "Escape routes"],
          "priorities": ["Disarm enemy bombs", "Kill bomb carriers", "Protect allied gates", "Prevent bomb placement"]
        }
      },
      "cpp_hooks": [
        "UseCannonAction.cpp",
        "MoveToDefensivePosition.cpp",
        "DefenseStrategyManager()",
        "VehicleDefenseAction()"
      ]
    },
    "mistake_prevention": {
      "prevent_midfield_fights": true,
      "prevent_solo_vehicle_driving": true,
      "avoid_refinery_quarry_early": true,
      "avoid_airship_if_gate_open": false,
      "avoid_vehicle_camping": true,
      "prevent_vehicle_abandonment": true,
      "prevent_bomb_carrier_suicide": true,
      "avoid_bomb_placement_in_dangerous_situations": true,
      "prevent_enemy_bomb_disarm": true,
      "protect_ally_bomb_carriers": true,
      "cpp_hooks": [
        "StopUselessMovementAction.cpp",
        "ObjectiveOverrulePolicy()",
        "VehicleAbandonmentPrevention()",
        "SoloVehiclePolicy()",
        "BombCarrierProtectionPolicy()",
        "BombPlacementSafetyCheck()",
        "EnemyBombDisarmPrevention()",
        "AllyBombCarrierProtection()"
      ]
    },
    "adaptive_behavior": {
      "team_size": {
        "1-2": "Defensive positioning, avoid fights, protect vehicles",
        "3-5": "Contest objectives, support vehicles, coordinated attacks",
        "6+": "Aggressive objective pushing, vehicle assaults, major battles"
      },
      "game_state": {
        "behind": {
          "strategy": "Defensive positioning, protect vehicles, wait for comeback",
          "tactics": ["Hold gate", "Deny enemy vehicles", "Wait for team"]
        },
        "ahead": {
          "strategy": "Aggressive positioning, push for win condition",
          "tactics": ["Vehicle assaults", "Objective control", "Force win"]
        },
        "close": {
          "strategy": "Maximize objective control, win team fights",
          "tactics": ["Secure workshop", "Control vehicles", "Win fights"]
        }
      },
      "vehicle_availability": {
        "no_vehicles": "Foot assault, capture objectives",
        "some_vehicles": "Mixed assault, support vehicles",
        "many_vehicles": "Vehicle assault, dominate battlefield"
      },
      "bomb_situation": {
        "ally_bomb_available": {
          "strategy": "collect_bomb, plan_placement, coordinate_with_team",
          "tactics": ["collect_barry_bomb", "plan_route", "coordinate_placement", "escort_carrier"]
        },
        "ally_bomb_placed": {
          "strategy": "protect_bomb_carrier, defend_bomb_placement, escort_to_gate",
          "tactics": ["protect_carrier", "kill_interceptors", "maintain_vision", "escort_to_gate"]
        },
        "enemy_bomb_placed": {
          "strategy": "disarm_enemy_bomb, kill_enemy_carrier, prevent_gate_damage",
          "tactics": ["interrupt_disarm", "kill_carrier", "protect_gate", "prevent_detonation"]
        },
        "enemy_bomb_carrier": {
          "strategy": "intercept_carrier, prevent_placement, kill_carrier",
          "tactics": ["intercept_route", "interrupt_placement", "kill_carrier", "prevent_escape"]
        }
      }
    },
    "role_assignments": {
      "vehicle_driver": {
        "requirements": ["High skill", "Survivability", "Game sense"],
        "priority": "Highest - protect vehicle and driver",
        "behavior": ["Focus objective", "Avoid unnecessary fights", "Call for help"]
      },
      "vehicle_escort": {
        "requirements": ["Combat effective", "Protective", "Coordinated"],
        "priority": "High - protect vehicle crew",
        "behavior": ["Stay close to vehicle", "Kill attackers", "Maintain formation"]
      },
      "objective_capper": {
        "requirements": ["Fast", "Mobile", "Survivable"],
        "priority": "Medium - secure objectives",
        "behavior": ["Capture quickly", "Avoid fights", "Signal completion"]
      },
      "support": {
        "requirements": ["Utility", "Vision", "Coordination"],
        "priority": "Medium - maintain team effectiveness",
        "behavior": ["Heal", "Provide utility", "Maintain positioning"]
      }
    },
    "keep_tower_mechanics": {
      "tower_gun_utilization": {
        "rocket_blast": {
          "when": "AoE damage from keep towers",
          "priority": "high",
          "conditions": [
            "controlling_keep_tower == true",
            "or enemy_clusters_at_tower_range == true",
            "or need_aoe_damage_from_tower == true"
          ],
          "target": "area",
          "context_weights": {
            "tower_control": 2.0,
            "aoe_damage": 1.8,
            "cluster_damage": 1.5
          }
        },
        "incendiary_rocket": {
          "when": "Damage over time from keep towers",
          "priority": "high",
          "conditions": [
            "controlling_keep_tower == true",
            "or sustained_damage_needed_from_tower == true",
            "or enemy_at_tower_range_with_low_hp == true"
          ],
          "target": "enemy",
          "context_weights": {
            "tower_control": 2.0,
            "sustained_damage": 1.8,
            "low_hp_target": 1.5
          }
        },
        "tower_gun_repair": {
          "when": "Repair destroyed keep tower guns",
          "priority": "medium",
          "conditions": [
            "tower_gun_destroyed == true",
            "or keep_defense_necessary == true",
            "or tower_control_advantageous == true"
          ],
          "target": "tower_gun",
          "context_weights": {
            "defense_necessary": 2.0,
            "control_advantage": 1.8,
            "repair_opportunity": 1.5
          }
        }
      },
      "tower_control_strategies": {
        "offensive_tower_control": [
          "capture_tower_guns",
          "use_aoe_damage",
          "control_enemy_movement",
          "provide_covering_fire"
        ],
        "defensive_tower_control": [
          "defend_tower_guns",
          "kill_tower_attackers",
          "maintain_tower_control",
          "repair_destroyed_guns"
        ],
        "tactical_advantages": [
          "high_ground_advantage",
          "area_control",
          "enemy_movement_restriction",
          "ally_support"
        ]
      }
    }
  }
}