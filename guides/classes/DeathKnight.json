{
  "class": "DeathKnight",
  "version": "3.3.5a",
  "roles": [
    "melee_dps",
    "offtank",
    "flag_carrier",
    "objective_defender"
  ],
  "game_state": {
    "early_game": {
      "focus": "establish presence, contest objectives",
      "priority": [
        "interrupt casting",
        "apply pressure",
        "maintain positioning"
      ]
    },
    "mid_game": {
      "focus": "control key objectives, engage in team fights",
      "priority": [
        "flag carrier protection",
        "objective control",
        "team fight support"
      ]
    },
    "late_game": {
      "focus": "secure win condition, defend lead",
      "priority": [
        "protect flag carrier",
        "defend objectives",
        "close out game"
      ]
    }
  },
  "general_priority_list": [
    "interrupts (Mind Freeze)",
    "crowd control (Chains of Ice) on flag runners",
    "burst mitigation (Anti-Magic Shell)",
    "self-sustain (Death Strike)",
    "utility (Death Grip to reposition)",
    "resource management (Rune efficiency)",
    "defensive positioning"
  ],
  "spell_rules": {
    "interrupts": [
      {
        "name": "Mind Freeze",
        "when": "Interrupt channeled casts or important heals",
        "priority": "very_high",
        "conditions": [
          "target_is_casting == true and target_distance <= 5",
          "or target_is_healer_casting_emergency_heal == true",
          "or target_is_casting_high_priority_spell == true"
        ],
        "cooldown_consideration": "use_on_high_value_casts_only",
        "target": "enemy",
        "context_weights": {
          "flag_carrier": 1.5,
          "healer": 1.3,
          "caster": 1.0
        }
      }
    ],
    "crowd_control": [
      {
        "name": "Death Grip",
        "when": "Pull fleeing target into melee or interrupt caster positioning",
        "priority": "very_high",
        "conditions": [
          "target_is_fleeing == true",
          "or target_is_casting_and_far == true",
          "or target_is_flag_carrier_trying_to_escape == true"
        ],
        "thresholds": {
          "min_range": 8,
          "max_range": 30
        },
        "target": "enemy",
        "context_weights": {
          "flag_carrier": 2.0,
          "healer": 1.5,
          "caster": 1.2
        }
      },
      {
        "name": "Chains of Ice",
        "when": "Root or slow high priority target (flag runner or healer)",
        "priority": "high",
        "conditions": [
          "target_is_fleeing == true",
          "or target_is_priority == true",
          "or target_is_flag_carrier_near_escape_route == true"
        ],
        "thresholds": {
          "target_speed_gt": 1.2
        },
        "target": "enemy",
        "context_weights": {
          "flag_carrier": 2.0,
          "healer": 1.5,
          "caster": 1.0
        }
      },
      {
        "name": "Strangulate",
        "when": "Silence important caster/healer at range",
        "priority": "very_high",
        "conditions": [
          "target_is_casting == true and is_healer(target) == true",
          "or target_is_flag_carrier_and_near_base == true",
          "or target_is_high_priority_caster == true"
        ],
        "target": "enemy",
        "context_weights": {
          "healer": 2.0,
          "flag_carrier": 1.8,
          "caster": 1.0
        }
      }
    ],
    "defensive": [
      {
        "name": "Anti-Magic Shell",
        "when": "Incoming magic burst or heavy debuff expected",
        "priority": "high",
        "conditions": [
          "incoming_magic_damage_estimate >= 2000",
          "or crowd_control_incoming == true",
          "or dangerous_magic_dot_active == true",
          "or enemy_has_bloodlust_active == true"
        ],
        "target": "self",
        "context_weights": {
          "high_dps_target": 1.8,
          "aoe_damage": 1.5,
          "debuff_removal": 1.2
        }
      },
      {
        "name": "Icebound Fortitude",
        "when": "Survive burst damage or break stuns",
        "priority": "very_high",
        "conditions": [
          "self_hp_percent <= 30 and not_flag_carrier == true",
          "or incoming_burst_damage >= 2500 and not_flag_carrier == true",
          "or self_is_stunned_and_low_hp == true and not_flag_carrier == true"
        ],
        "target": "self",
        "context_weights": {
          "lethal_damage": 2.0,
          "stun_break": 1.8,
          "survival": 1.5
        },
        "flag_mechanics": {
          "drops_flag_when_used": false,
          "avoid_when_flag_carrier": false,
          "alternative_defenses": [
            "anti_magic_shell",
            "vampiric_blood",
            "bone_shield"
          ]
        }
      },
      {
        "name": "Vampiric Blood",
        "when": "Increase maximum health and heal over time",
        "priority": "high",
        "conditions": [
          "self_hp_percent <= 40",
          "or incoming_damage_estimate >= 1500",
          "or sustained_damage_phase_starting == true"
        ],
        "target": "self",
        "context_weights": {
          "sustained_damage": 1.8,
          "survival": 1.5,
          "health_pool_increase": 1.2
        }
      },
      {
        "name": "Bone Shield",
        "when": "Absorb damage and reduce physical damage taken",
        "priority": "high",
        "conditions": [
          "physical_damage_heavy_environment == true",
          "or multiple_melee_attackers == true",
          "or incoming_physical_burst_expected == true"
        ],
        "target": "self",
        "context_weights": {
          "physical_damage": 2.0,
          "multiple_attackers": 1.8,
          "burst_protection": 1.5
        }
      },
      {
        "name": "Anti-Magic Zone",
        "when": "Protect area from magic damage",
        "priority": "high",
        "conditions": [
          "area_has_magic_damage == true",
          "or ally_group_under_spell_damage == true",
          "or need_to_protect_group == true"
        ],
        "target": "area",
        "context_weights": {
          "harmful_spells": 2.0,
          "group_protection": 1.8,
          "spell_intercept": 1.5,
          "utility_spell": 1.2
        }
      }
    ],
    "offensive": [
      {
        "name": "Death Strike",
        "when": "Execute/self heal when below threshold",
        "priority": "high",
        "conditions": [
          "self_hp_percent <= 60",
          "or target_is_low_hp_and_melee_range == true",
          "or rune_available_for_strategic_use == true"
        ],
        "target": "self_or_enemy",
        "context_weights": {
          "self_heal": 1.8,
          "execute_low_hp": 1.5,
          "rune_efficiency": 1.2
        }
      },
      {
        "name": "Pillar of Frost",
        "when": "Increase critical strike chance and damage",
        "priority": "medium",
        "conditions": [
          "group_has_bloodlust == true",
          "or boss_phase == true",
          "or sustained_combat_engagement_expected == true"
        ],
        "target": "self",
        "context_weights": {
          "bloodlust_active": 2.0,
          "sustained_fight": 1.5,
          "damage_phase": 1.2
        }
      },
      {
        "name": "Hungering Strike",
        "when": "Powerful weapon strike that heals the Death Knight",
        "priority": "high",
        "conditions": [
          "self_hp_percent <= 70",
          "or target_is_vulnerable == true",
          "or rune_efficiency_optimal == true"
        ],
        "target": "enemy",
        "context_weights": {
          "self_heal_needed": 2.0,
          "vulnerable_target": 1.8,
          "rune_efficiency": 1.5
        }
      },
      {
        "name": "Obliterate",
        "when": "Powerful frost and unholy attack",
        "priority": "high",
        "conditions": [
          "frost_and_unholy_runes_available == true",
          "or target_is_low_hp == true",
          "or burst_damage_opportunity == true"
        ],
        "target": "enemy",
        "context_weights": {
          "rune_combo_available": 2.0,
          "low_hp_target": 1.8,
          "burst_opportunity": 1.5
        }
      },
      {
        "name": "Blood Boil",
        "when": "AoE damage and disease spread",
        "priority": "medium",
        "conditions": [
          "multiple_enemies_in_range == true",
          "or need_to_spread_diseases == true",
          "or aoe_damage_opportunity == true"
        ],
        "target": "area",
        "context_weights": {
          "multiple_targets": 2.0,
          "disease_spread": 1.8,
          "aoe_damage": 1.5
        }
      },
      {
        "name": "Scourge Strike",
        "when": "Disease damage and healing reduction",
        "priority": "high",
        "conditions": [
          "target_has_diseases == true",
          "or healing_reduction_needed == true",
          "or sustained_damage_opportunity == true"
        ],
        "target": "enemy",
        "context_weights": {
          "disease_targets": 2.0,
          "healing_reduction": 1.8,
          "sustained_damage": 1.5
        }
      },
      {
        "name": "Icy Touch",
        "when": "Apply frost damage and chill effect",
        "priority": "high",
        "conditions": [
          "target_does_not_have_frost_fever == true",
          "or frost_fever_expiring_soon == true",
          "or sustained_frost_damage_needed == true"
        ],
        "target": "enemy",
        "context_weights": {
          "no_frost_fever": 2.0,
          "expiring_soon": 1.8,
          "sustained_damage": 1.5
        }
      },
      {
        "name": "Plague Strike",
        "when": "Apply disease and spread infection",
        "priority": "high",
        "conditions": [
          "target_does_not_have_disease == true",
          "or disease_spread_opportunity == true",
          "or sustained_damage_over_time_needed == true"
        ],
        "target": "enemy",
        "context_weights": {
          "no_disease": 2.0,
          "disease_spread": 1.8,
          "sustained_damage": 1.5
        }
      },
      {
        "name": "Howling Blast",
        "when": "AoE frost damage and disease",
        "priority": "medium",
        "conditions": [
          "multiple_enemies_in_range == true",
          "or need_aoe_frost_damage == true",
          "or disease_application_needed == true"
        ],
        "target": "area",
        "context_weights": {
          "multiple_targets": 2.0,
          "aoe_damage": 1.8,
          "disease_application": 1.5
        }
      }
    ],
    "utility": [
      {
        "name": "Horn of Winter",
        "when": "Provide group buff in team fights",
        "priority": "medium",
        "conditions": [
          "team_fight_engagement == true",
          "or group_buff_needed == true",
          "or rune_regen_opportunity == true"
        ],
        "target": "self_or_group",
        "context_weights": {
          "team_fight": 1.8,
          "group_buff": 1.5,
          "resource_gen": 1.2
        }
      },
      {
        "name": "Army of the Dead",
        "when": "Apply sustained pressure in objectives",
        "priority": "high",
        "conditions": [
          "objective_push_engagement == true",
          "or sustained_combat_phase == true",
          "or need_additional_damage_over_time == true"
        ],
        "target": "area",
        "context_weights": {
          "objective_push": 2.0,
          "sustained_fight": 1.8,
          "damage_over_time": 1.5
        }
      },
      {
        "name": "Raise Dead",
        "when": "Summon pet for additional damage/control",
        "priority": "medium",
        "conditions": [
          "pet_needed_for_damage == true",
          "or pet_needed_for_cc == true",
          "or sustained_combat_engagement == true"
        ],
        "target": "self",
        "context_weights": {
          "damage_support": 1.8,
          "cc_support": 1.5,
          "sustained_combat": 1.2
        }
      },
      {
        "name": "Death and Decay",
        "when": "AoE damage and disease application",
        "priority": "medium",
        "conditions": [
          "multiple_enemies_in_area == true",
          "or need_aoe_damage_over_time == true",
          "or sustained_aoe_damage_needed == true"
        ],
        "target": "area",
        "context_weights": {
          "multiple_targets": 2.0,
          "aoe_damage": 1.8,
          "sustained_damage": 1.5
        }
      },
      {
        "name": "Empower Rune Weapon",
        "when": "Major cooldown for sustained damage",
        "priority": "high",
        "conditions": [
          "team_fight_engagement == true",
          "or sustained_damage_phase == true",
          "or major_damage_output_needed == true"
        ],
        "target": "self",
        "context_weights": {
          "team_fight": 2.0,
          "sustained_damage": 1.8,
          "major_output": 1.5
        }
      }
    ]
  },
  "cooldown_and_resource_management": {
    "runes_low_threshold": 2,
    "use_aoe_if_enemies_ge": 3,
    "blood_rune_usage": "save_for_defensive_needs",
    "frost_rune_usage": "for_mechanics_and_gap_closing",
    "unholy_rune_usage": "for_sustained_damage",
    "resource_pools": {
      "runic_power": {
        "spend_threshold": 80,
        "save_for_emergency": 20,
        "priority_spells": [
          "Death Coil",
          "Horn of Winter",
          "Death and Decay"
        ]
      }
    }
  },
  "battleground_overrides": {
    "WSG": {
      "objective_focus": "flag_capture_defense",
      "behavior_mods": [
        "prioritize_speed_buffs_for_flag_carrier",
        "assign_2_defenders_to_flagroom",
        "intercept_high_value_flag_runners",
        "use_Chains_of_Ice_on_flag_carrier",
        "protect_ally_flag_carrier_with_defensive_CDs",
        "Mind_Freeze_healer_supporting_flag_carrier"
      ],
      "role_assignments": {
        "flag_defender": [
          "interrupt_healers",
          "apply_CC_to_attackers",
          "maintain_flag_room_control"
        ],
        "escort": [
          "protect_flag_carrier",
          "interrupt_escorts",
          "maintain_distance_control"
        ],
        "midfield": [
          "control_tunnel",
          "intercept_resurrections",
          "apply_pressure"
        ]
      }
    },
    "AB": {
      "objective_focus": "base_control",
      "behavior_mods": [
        "maintain_three_base_control_if_possible",
        "leave_min_defenders_at_each_base(2)",
        "rotate_to_reinforce_weak_base",
        "apply_pressure_with_Army_of_the_Dead",
        "maintain_tower_control_with_sustained_damage"
      ],
      "role_assignments": {
        "base_defender": [
          "maintain_base_control",
          "interrupt_cappers",
          "apply_CC"
        ],
        "base_attacker": [
          "apply_pressure",
          "kill_defenders",
          "secure_captures"
        ],
        "support": [
          "provide_buffs",
          "maintain_vision",
          "assist_in_fights"
        ]
      }
    },
    "AV": {
      "objective_focus": "tower_and_commander_kills",
      "behavior_mods": [
        "focus_on_capturing_towers_and_killing_captains",
        "escort_raid_groups_for_commander_assaults",
        "use_Chains_of_Ice_on_commanders",
        "apply_sustained_damage_to_NPC_targets",
        "maintain_tower_control_with_Army_of_the_Dead"
      ],
      "role_assignments": {
        "tower_attacker": [
          "capture_towers",
          "kill_NPC_guards",
          "maintain_control"
        ],
        "commander_assassin": [
          "kill_commanders",
          "apply_burst_damage",
          "escape_tactics"
        ],
        "escort": [
          "protect_assassins",
          "kill_NPC_defenders",
          "maintain_pressure"
        ]
      }
    },
    "EOTS": {
      "objective_focus": "flag_and_mid_control",
      "behavior_mods": [
        "control_mid_for_flag_safety",
        "escort_flag_carrier_via_towers",
        "apply_pressure_with_sustained_damage",
        "maintain_flag_access_control"
      ],
      "role_assignments": {
        "mid_controller": [
          "control_mid",
          "deny_flag_access",
          "apply_pressure"
        ],
        "flag_protector": [
          "escort_carrier",
          "interrupt_escorts",
          "maintain_safety"
        ],
        "base_defender": [
          "defend_bases",
          "kill_cappers",
          "maintain_control"
        ]
      }
    },
    "SOTA": {
      "objective_focus": "vehicle_protection_and_wall_breach",
      "behavior_mods": [
        "protect_demolishers",
        "clear_path_for_vehicle_push",
        "apply_sustained_damage_to_walls",
        "maintain_vehicle_escort_with_CC"
      ],
      "role_assignments": {
        "vehicle_protector": [
          "protect_vehicles",
          "kill_vehicle_attackers",
          "maintain_path"
        ],
        "wall_destroyer": [
          "damage_walls",
          "apply_sustained_damage",
          "maintain_position"
        ],
        "escort": [
          "clear_path",
          "kill_defenders",
          "maintain_pressure"
        ]
      }
    },
    "IOC": {
      "objective_focus": "workshop_and_gate_destruction",
      "behavior_mods": [
        "rush_workshop_priority",
        "escort_siege_to_gate",
        "if_towers_vulnerable -> docks_glaive_focus",
        "use_Army_of_the_Dead_for_gate_assault",
        "maintain_workshop_control_with_sustained_damage"
      ],
      "role_assignments": {
        "workshop_capper": [
          "capture_workshop",
          "maintain_control",
          "deny_enemy"
        ],
        "gate_destroyer": [
          "damage_gate",
          "protect_siege",
          "maintain_position"
        ],
        "escort": [
          "protect_siege",
          "kill_attackers",
          "maintain_path"
        ]
      }
    }
  },
  "adaptive_behavior": {
    "team_size": {
      "1": [
        "avoid_fights",
        "objective_control",
        "defensive_positioning"
      ],
      "2-3": [
        "engage_favorable_fights",
        "objective_support",
        "coordinated_pushes"
      ],
      "4+": [
        "aggressive_objective_control",
        "team_fights",
        "win_conditions"
      ]
    },
    "enemy_composition": {
      "high_healer_count": [
        "prioritize_healer_CC",
        "interrupt_healing",
        "apply_pressure"
      ],
      "melee_heavy": [
        "use_Anti_Magic_Shell",
        "maintain_distance",
        "kite_effectively"
      ],
      "ranged_heavy": [
        "close_distance",
        "apply_CC",
        "interrupt_casting"
      ]
    },
    "game_state": {
      "behind": [
        "defensive_positioning",
        "protect_objectives",
        "wait_for_mistakes"
      ],
      "ahead": [
        "aggressive_pushing",
        "maintain_pressure",
        "secure_win"
      ],
      "close": [
        "maximize_fights",
        "win_exchanges",
        "control_objectives"
      ]
    }
  },
  "tactical_positioning": {
    "key_locations": {
      "WSG_flag_room": {
        "defensive_positions": [
          "flag_stand",
          "entrance",
          "behind_cover"
        ],
        "offensive_positions": [
          "approach",
          "escape_routes",
          "control_points"
        ]
      },
      "AB_base_circles": {
        "defensive_positions": [
          "inside_circle",
          "approach_angles",
          "escape_routes"
        ],
        "offensive_positions": [
          "approach",
          "flank_routes",
          "control_points"
        ]
      },
      "AV_tower_approaches": {
        "defensive_positions": [
          "tower_base",
          "approach_control",
          "escape_routes"
        ],
        "offensive_positions": [
          "approach_angles",
          "flank_routes",
          "control_points"
        ]
      }
    }
  },
  "resource_management": {
    "rune_efficiency": {
      "rotation_priority": [
        "defensive_needs",
        "offensive_opportunities",
        "utility_uses"
      ],
      "emergency_reserves": [
        "blood_for_defensive",
        "frost_for_mobility",
        "unholy_for_damage"
      ]
    },
    "runic_power": {
      "spending_strategy": [
        "save_for_emergency",
        "spend_on_opportunity",
        "maintain_efficiency"
      ],
      "priority_targets": [
        "emergency_healing",
        "damage_spikes",
        "utility_benefits"
      ]
    }
  }
}